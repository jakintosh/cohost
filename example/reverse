( macros )
% stash CDR8 DRD ;
% unstash CRD8 DRR ;
% swap CDS8 DRD ;
% unswap CSD8 DRS ;
% hold CDH8 DRD ;
% unhold CHD8 ;
% zero LIT8 0 ;
% one LIT8 1 ;
% decrement ~one SUB8 ;
% exit? CRD8 ~zero EQU8 ;
% loop-head #loop ~exit? &loop-end JCR8 ;
% loop-tail >decrement-return &loop JPR8 #loop-end DRR ;

( local routines )
: decrement-return ~unstash ~decrement ~stash ;

( exported routines )
^ reverse ( 1b, 2b .. nb, bn -- nb .. 2b, 1b )
    ~decrement ~stash
    ~loop-head
        ~hold
        DPR8 ~loop-head ~swap ~loop-tail
        ~unhold
        DPR8 ~loop-head ~unswap ~loop-tail
    ~loop-tail
;
